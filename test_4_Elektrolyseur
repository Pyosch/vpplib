import numpy as np
import matplotlib.pyplot as plt

# Elektrolyseurparameter
cell_voltage = 1.48  # Zellspannung [V]
max_current_density = 2.5  # Maximale Stromdichte [A/cm²]
efficiency = 0.9  # Wirkungsgrad des Elektrolyseurs
hours_per_year = 8760  # Anzahl der Stunden pro Jahr

# Physikalische Konstanten
molar_mass_hydrogen = 0.00201588  # Molare Masse von Wasserstoff [kg/mol]
joule_to_megawatt_hour = 2.77778e-7  # Umrechnungsfaktor von Joule zu Megawattstunden (MWh)

# Modellierung der Wasserstoffproduktion über Zeit
time = np.linspace(0, hours_per_year, 1000)  # Zeitbereich von 0 bis 1 Jahr (in Stunden)

def hydrogen_production_rate(time):
    current_density = max_current_density * np.sin(2 * np.pi * time / hours_per_year)  # Beispielstromdichte (sin-Funktion)
    return np.abs((current_density * max_current_density) / (2 * efficiency))

hydrogen_production = hydrogen_production_rate(time)
energy_production = hydrogen_production * molar_mass_hydrogen * cell_voltage * joule_to_megawatt_hour

# Plotten des Graphen für die jährliche Energiemenge an Wasserstoff
plt.figure(figsize=(8, 6))
plt.plot(time, energy_production)
plt.xlabel('Zeit [Stunden]')
plt.ylabel('Energiemenge [MWh]')
plt.title('Jährliche Energiemenge an Wasserstoff')
plt.grid(True)
plt.show()

print("Jährliche Energiemenge an Wasserstoff:", np.sum(energy_production), "MWh")